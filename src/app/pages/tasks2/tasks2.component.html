<h2 class="content-block">Tasks</h2>

<!-- 
  columnResizeMode="nextColumn" 
  columnResizeMode="widget" 
  width="100%"
  [columnAutoWidth]="true"
-->

<dx-data-grid 
  #dataGrid
  class="dx-card wide-card"
  [dataSource]="dataSource"
  [showBorders]="false"
  [focusedRowEnabled]="true"
  [focusedRowIndex]="0"
  [allowColumnResizing]="true"
  [columnResizingMode]="'widget'"
  [remoteOperations]="true" 
  >


  <dxo-paging [pageSize]="10"></dxo-paging>
  <dxo-pager [showPageSizeSelector]="true" [showInfo]="true"></dxo-pager>
  <dxo-filter-row [visible]="true"></dxo-filter-row>
  <dxo-editing mode="cell" [allowUpdating]="true" [allowDeleting]="true" [newRowPosition]="'first'"></dxo-editing>
  <!-- COMMENTED regions are similar to CP Registers -->
  <!-- <dxo-selection mode="multiple"> </dxo-selection> -->
  <!-- <dxo-column-fixing [enabled]="true"></dxo-column-fixing> -->
  <!-- <dxo-scrolling mode="virtual"></dxo-scrolling> -->
  <!-- <dxo-selection mode="multiple" showCheckBoxesMode="onClick" [allowSelectAll]="true"></dxo-selection> -->
  <!-- <dxo-summary>
    <dxi-total-item column="Task_ID" summaryType="count"> </dxi-total-item>
  </dxo-summary> -->
  <!-- <dxo-pager  [visible]="false" displayMode="adaptive" allowedPageSizes="auto" [showInfo]="false" [showNavigationButtons]="false" [showPageSizeSelector]="false" ></dxo-pager> -->
  <!-- <dxo-filter-row [visible]="true"></dxo-filter-row> -->
  <!-- <dxo-header-filter [visible]="true"></dxo-header-filter> -->
  <!-- <dxo-group-panel [visible]="true"> </dxo-group-panel> -->
  
  <!-- <dxo-state-storing [enabled]="true" type="sessionStorage" storageKey="TaskGridState" ></dxo-state-storing> -->

<!-- 
<dxi-column
  dataField="Task_ID"  [fixed]="true" [fixedPosition]="'left'"
  [width]="90">
</dxi-column> -->
<dxi-column
  dataField="Task_ID"
  width="90">
</dxi-column>
<dxi-column
  dataField="DescriptionAsBase64RichText"
  caption="Subject" [width]='"auto"' editCellTemplate='descriptionRichEditTemplate'></dxi-column>
  <div *dxTemplate='let itemObj of "descriptionRichEditTemplate"'>
    <!-- <app-richedit></app-richedit>  -->
    <!--  [(rtf)]='itemObj.data.DescriptionAsBase64RichText' (onChanged) = "update" (onClose)="loadHtmlFromRtf($event, itemObj)" -->
  </div>
<dxi-column
  dataField="Task_Status"
  caption="Status" width="100">  
</dxi-column>
<dxi-column
  dataField="Task_Priority"
  caption="Priority"
  width="99"
  >
  <dxo-lookup
    [dataSource]="priority"
    valueExpr="value"
    displayExpr="name">
  </dxo-lookup>
</dxi-column>
<dxi-column
  dataField="ResponsibleEmployee.Employee_Full_Name"
  caption="Assigned To"  width="100"
  [allowSorting]="false"
  >
</dxi-column>
<dxi-column
  dataField="Task_Start_Date"
  caption="Start Date"
  dataType="date" width="100">
  
</dxi-column>
<dxi-column
  dataField="Task_Due_Date"
  caption="Due Date"
  dataType="date" width="100">
  
</dxi-column>
<dxi-column
  dataField="Task_Priority"
  caption="Priority"
  name="Priority"
  width="100">
</dxi-column>
<dxi-column
  dataField="Task_Completion"
  caption="Completion" width="100">
  
</dxi-column>

<!-- <dxi-column
  dataField="Task_Subject"
  caption="Subject">
</dxi-column> -->

</dx-data-grid>
